# 矩阵连乘

##### 问题描述

实现矩阵连乘算法。输入n个矩阵的维度（n+1个数, n>2），输出矩阵连乘的最小数乘次数以及连乘次序，即矩阵加括号的方式，如: (A1((A2A3)A4))。

提交格式：
实现void solve(int n,int p[],int out[])函数。

参数n为矩阵个数，p为关于矩阵维数的n+1个数，矩阵Ai的维数为(p[i-1],p[i]),out[0]为最小数乘次数MOD1000000007，out[i]为输出的连乘次序(i>0)。2<n<=500,2<p[i]<=500。

输出连乘次序时，请将(替换为-1、)替换为-2，矩阵Ai替换为i,输出到out数组中。 
请不要printf输出任何内容。

输入样例：

```
n=5,p={10,5,2,8,6,3}
```

输出样例：

```
out={292,-1,-1,1,2,-2,-1,-1,3,4,-2,5,-2,-2}
```

##### **核心思路**

1. 最优子结构分析，建立递归关系，得到递归表达式；
2. 依据其递归式以自底向上的方式进行迭代，得到m矩阵和s矩阵；
3. 通过s矩阵加括号；
4. 构造主函数进行调试。

##### **实现要点**

1. 关键在于构造递推表达式，这也是动态规划的难点所在；
2. 由于数据可能比较大，数据类型选择long long;
3. 虽然题目是加数字，但和加括号一样，借助通过递归实现。

